# lab2_challenge1 复杂缺页异常

## 实验目标
我们需要优化缺页异常服务函数，支持识别访问的是越界地址，而不是栈增长。

## 实现原理
我们在用户的进程控制块中做一个栈底标记，在处理缺页异常中只服务栈底下面一页虚拟地址的请求，并更新栈底标记。

## 具体实现过程

## 改动进程控制块proc
在process中增加一个user_stack_bottom成员

## 改动load_user_program
在初始化用户栈空间之后，初始化这个用户栈栈底指针

## 改动handle_user_page_fault
对于stval做是否大于等于user_stack_bottom - PGSIZE的判断
这样就可以分辨出是正常的栈增长访问还是异常内存访问了。

>注：如果正常的栈增长访问会一下子跨越一整页，那么这个策略就失效了。一般不会这样。